---
description: Repo-wide engineering rules
alwaysApply: true
---

# 工程规范（必须遵守）
- 任何改动都要：更新/新增测试（pytest），并确保本地能跑过最小测试集。
- 优先小步提交：每次改动聚焦一个意图；提交信息用 Conventional Commits（feat/fix/refactor/test/docs）。
- 代码风格：Python 3.11+；使用 ruff + black；类型标注尽量补齐；关键函数写 docstring。
- 不允许在核心逻辑里写“魔法常量”：统一放 configs/ 或常量模块。
- 输出必须可复现：固定随机种子；训练/评估脚本必须写入 run metadata（config + git commit hash）。
